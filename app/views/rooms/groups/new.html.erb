<%= form_with url: rooms_groups_path, local: true, id: 'group-chat-form', class: 'mt-3' do |f| %>
  <div class="row g-3">
    <%= f.collection_check_boxes(:user_ids, @other_users, :id, :name, include_hidden: false) do |b| %>
      <div class="col-sm-6 col-lg-4">
        <div class="card">
          <div class="card-body">
            <div class="card-text form-check">
              <%= b.check_box class: 'form-check-input', data: { rspec: "rooms_groups_new_checkbox_#{b.object.id}" } %>
              <%= b.label class: 'form-check-label row align-items-center' do %>
                <span class="col-2 col-sm-3 col-md-2">
                  <%= image_tag b.object.avatar.icon.url, class: 'img-fluid rounded-circle' %>
                </span>
                <span class="col-10 col-sm-9 ps-0 text-truncate">
                  <%= b.object.name %>
                </span>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% end %>

<div class="fixed-bottom bg-white border-top">
  <div class="py-3 d-flex justify-content-around align-items-center">
    <p class="m-0">ユーザーを選択</p>
    <button type="submit" form="group-chat-form" class="btn btn-success" data-rspec="create_group_chat">
      グループチャットを作成
    </button>
  </div>
</div>
